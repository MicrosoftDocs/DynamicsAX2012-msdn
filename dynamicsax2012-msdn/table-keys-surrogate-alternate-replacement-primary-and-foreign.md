---
title: 'Table Keys: Surrogate, Alternate, Replacement, Primary, and Foreign'
TOCTitle: 'Table Keys: Surrogate, Alternate, Replacement, Primary, and Foreign'
ms:assetid: c9629d16-1698-42d5-a4d8-4047794efffc
ms:mtpsurl: https://msdn.microsoft.com/en-us/library/Hh812105(v=AX.60)
ms:contentKeyID: 44089904
ms.date: 05/18/2015
mtps_version: v=AX.60
---

# Table Keys: Surrogate, Alternate, Replacement, Primary, and Foreign [AX 2012]


_**Applies To:** Microsoft Dynamics AX 2012 R3, Microsoft Dynamics AX 2012 R2, Microsoft Dynamics AX 2012 Feature Pack, Microsoft Dynamics AX 2012_

This topic describes several terms and concepts of keys on data tables, as they apply to Microsoft Dynamics AX.

All keys are unique keys, meaning they disallow duplicate values and null values.

## Terminology for Major Concepts of Keys

This section describes the terminology for keys that appear in property names in the AOT **Properties** window.

### ![Hh812105.collapse\_all(en-us,AX.60).gif](images/Gg863931.collapse_all(en-us,AX.60).gif "Hh812105.collapse_all(en-us,AX.60).gif")Primary Key

A primary key is one type of key. The other type of key is an alternate key. There is a maximum of one primary key per table, whereas a table can have several alternate keys. The primary key is usually the type of key that other tables, called child tables, refer to when a foreign key field in those other tables need a relational identifier.

Starting in Microsoft Dynamics AX 2012 the primary key for every new table is always enforced by an index that has exactly one field. The one field is usually an incremented number or a completely meaningless number that is generated by the system. For new tables the default is a primary key based on the RecId field. This is represented as the surrogate key in the user interface.

The following table describes the **PrimaryIndex** property and other major properties that are related to keys.

<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th><p>Property</p></th>
<th><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>PrimaryIndex</p></td>
<td><p>The drop-down list contains the surrogate key plus every index on the table that has its <strong>AlternateKey</strong> property set to <strong>Yes</strong>.</p></td>
</tr>
<tr class="even">
<td><p>CreateRecIdIndex</p></td>
<td><p>This property controls whether the system creates a unique index on the RecId field. The default value is <strong>Yes</strong>. This is the basis of the surrogate key.</p>
<p>No other field is added to this index, not even DataAreaId.</p></td>
</tr>
<tr class="odd">
<td><p>ReplacementKey</p></td>
<td><p>The drop-down list contains every index that has its <strong>AlternateKey</strong> property set to <strong>Yes</strong>.</p>
<p>You might change the default blank value to an index whose field values within each record provide a name or other moniker that is meaningful to people. If a <strong>ReplacementKey</strong> is chosen, its fields can appear on forms to helpfully identify each record.</p>
<p>The <strong>ReplacementKey</strong> should be a set of fields that represent the natural key.</p></td>
</tr>
<tr class="even">
<td><p>ClusterIndex</p></td>
<td><p>The <strong>ClusterIndex</strong> value is given to the underlying Microsoft SQL Server database system as a performance tuning choice. This choice generally controls the physical sequence in which the records are stored in the underlying database.</p></td>
</tr>
</tbody>
</table>


The following AOT image highlights the table properties that are related to keys.

![Properties of the CustTable table](images/Hh812105.Keys2-CustTable-CustTable-Properties(en-us,AX.60).png "Properties of the CustTable table")

**Properties of the AtomicElement demonstration table**

### ![Hh812105.collapse\_all(en-us,AX.60).gif](images/Gg863931.collapse_all(en-us,AX.60).gif "Hh812105.collapse_all(en-us,AX.60).gif")Alternate Key

A table can have several alternate keys. Any one alternate key can switch to being the primary key, if the alternate key is comprised of only one field.

A table can reference the alternate key of another table. However, it is more common for a table to reference the primary key of another table. As an option, an alternate key can be chosen as the **ReplacementKey** of a table.

In practice each alternate key relies on a unique index for its implementation and enforcement. However, a unique index alone does not make an alternate key. The **AlternateKey** property must be set to **Yes** to make a unique index be an alternate key.

The following table describes properties on the AOT node for an index.

<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th><p>Property</p></th>
<th><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>AllowDuplicates</p></td>
<td><p><strong>No</strong> means that the combined fields of the index must together make a value in each record which no other record has.</p></td>
</tr>
<tr class="even">
<td><p>AlternateKey</p></td>
<td><p><strong>Yes</strong> means that other tables can create foreign key relations that reference this key, as an alternative to referencing the primary key.</p>
<p>Indexes with two or more fields cannot have their <strong>AlternateKey</strong> property value set to <strong>Yes</strong>.</p></td>
</tr>
<tr class="odd">
<td><p>ValidTimeStateKey</p></td>
<td><p>A key that is marked as a valid time state key is not a candidate key for child tables to reference in their foreign key relations. Instead, this key is meant for managing date effective data in its own table.</p>
<p>The default is <strong>No</strong>. This field can be <strong>Yes</strong> only if the <strong>ValidTimeStateFieldType</strong> property is <strong>Yes</strong> on the table. <strong>Yes</strong> means this key contains the <strong>ValidFrom</strong> and <strong>ValidTo</strong> fields.</p>
<p>The <strong>ValidTimeStateKey</strong> property cannot be set to <strong>Yes</strong> when the <strong>AlternateKey</strong> property is set to <strong>No</strong>.</p></td>
</tr>
</tbody>
</table>


The following image shows that the **SymIdx** index is an alternate key. Its **AlternateKey** property is set to **Yes**.

![Properties of the Party index on CustTable](images/Hh812105.Keys2-CustTable-Indexes-Party-Properties(en-us,AX.60).png "Properties of the Party index on CustTable")

**The properties of the SymIdx index**

### ![Hh812105.collapse\_all(en-us,AX.60).gif](images/Gg863931.collapse_all(en-us,AX.60).gif "Hh812105.collapse_all(en-us,AX.60).gif")Relation

In Microsoft Dynamics AX a relation represents a foreign key. The following image shows that the **AtomStIdx** alternate key of the **AtomicState** parent table is referenced by this foreign key of the **AtomicElement** child table. The foreign key is comprised of the **AtomicStateName** field.

![Properties of BankAccount relation on CustTable](images/Hh812105.Keys2-CustTable-Relations-BankAccount-Properties(en-us,AX.60).png "Properties of BankAccount relation on CustTable")

**The properties for the AtomStFkyRel relation**

  
The following image displays the **AtomStIdx** alternate key on the **AtomicState** table. The previous **AtomStFkyRel** relation references this alternate key.

![Alternate key AtomStIdx on the AtomicState table](images/Hh812105.Keys2-CustTable-Indexes-AtomicState-AltKey-Properties(en-us,AX.60).png "Alternate key AtomStIdx on the AtomicState table")

**The properties of the AtomStIdx alternate key and index**

For more information about the properties of table relations, see [Table Relation Properties](https://msdn.microsoft.com/en-us/library/hh803130\(v=ax.60\)).

### ![Hh812105.collapse\_all(en-us,AX.60).gif](images/Gg863931.collapse_all(en-us,AX.60).gif "Hh812105.collapse_all(en-us,AX.60).gif")ReplacementKey

A replacement key is an alternate key that the system can display on forms instead of a meaningless numeric primary key value. Each table can have a maximum of one replacement key.

The replacement key is chosen by setting the **ReplacementKey** property on the table. The drop-down list offers every alternate key as an available value. In the previous image of the **AtomicElement** table properties, the **ReplacementKey** property is **SymIdx**.

## Other Terminology for Keys

In Microsoft Dynamics AX, there are other terms that are used to describe table keys. These terms do not appear as property names in Microsoft Dynamics AX. These terms are described in the following table.

<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th><p>Term</p></th>
<th><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>foreign key</p></td>
<td><p>In Microsoft Dynamics AX, an AOT node under MyTable &gt; <strong>Relations</strong> represents a foreign key. For more information, see the previous <strong>Relations</strong> section in this topic.</p></td>
</tr>
<tr class="even">
<td><p>natural key</p></td>
<td><p>A key whose value has meaning to people. Most replacement keys are natural keys.</p></td>
</tr>
<tr class="odd">
<td><p>surrogate key</p></td>
<td><p>A key whose value has no meaning to people. A large number generated by the system, such as RecId, could be a surrogate key.</p></td>
</tr>
<tr class="even">
<td><p>unique key</p></td>
<td><p>A broad term that applies to primary keys and to alternate keys. It does not apply to foreign keys. This term emphasizes that all values for a given key must be unique within one table. All fields in a unique key must be not-nullable.</p></td>
</tr>
</tbody>
</table>


## See also

[Indexes and Keys](indexes-and-keys.md)

  
**Announcements:** New book: "Inside Microsoft Dynamics AX 2012 R3" now available. Get your copy at the [MS Press Store](https://www.microsoftpressstore.com/store/inside-microsoft-dynamics-ax-2012-r3-9780735685109).

